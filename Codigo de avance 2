-----------Creacion de Tablas con su respectivo CRUD----------

--1.-----------
CREATE TABLE FIDE_CLIENTES_TB (
    FIDE_CLIENTES_ID_CLIENTE_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    V_NOMBRE VARCHAR2(100) NOT NULL,
    V_TELEFONO VARCHAR2(15),
    V_CORREO VARCHAR2(100),
    FIDE_CLIENTES_ID_DIRECCION_IDX NUMBER,
    FIDE_CLIENTES_ID_ROL_IDX NUMBER,
    FOREIGN KEY (FIDE_CLIENTES_ID_DIRECCION_IDX) REFERENCES FIDE_DIRECCIONES_TB(FIDE_DIRECCIONES_ID_DIRECCION_PK),
    FOREIGN KEY (FIDE_CLIENTES_ID_ROL_IDX) REFERENCES FIDE_ROLES_TB(FIDE_ROLES_ID_ROL_PK)
);

---CRUD 
CREATE OR REPLACE PROCEDURE FIDE_CLIENTES_INSERTAR_SP (
  P_NOMBRE IN FIDE_CLIENTES_TB.V_NOMBRE%TYPE,
  P_TELEFONO IN FIDE_CLIENTES_TB.V_TELEFONO%TYPE,
  P_CORREO IN FIDE_CLIENTES_TB.V_CORREO%TYPE,
  P_ID_DIRECCION IN FIDE_CLIENTES_TB.FIDE_CLIENTES_ID_DIRECCION_IDX%TYPE,
  P_ID_ROL IN FIDE_CLIENTES_TB.FIDE_CLIENTES_ID_ROL_IDX%TYPE
) AS
BEGIN
  INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX)
  VALUES (P_NOMBRE, P_TELEFONO, P_CORREO, P_ID_DIRECCION, P_ID_ROL);
  COMMIT;
END;
/

CREATE OR REPLACE PROCEDURE FIDE_CLIENTES_ACTUALIZAR_SP (
  P_ID_CLIENTE IN FIDE_CLIENTES_TB.FIDE_CLIENTES_ID_CLIENTE_PK%TYPE,
  P_NOMBRE IN FIDE_CLIENTES_TB.V_NOMBRE%TYPE,
  P_TELEFONO IN FIDE_CLIENTES_TB.V_TELEFONO%TYPE,
  P_CORREO IN FIDE_CLIENTES_TB.V_CORREO%TYPE
) AS
BEGIN
  UPDATE FIDE_CLIENTES_TB
  SET V_NOMBRE = P_NOMBRE, V_TELEFONO = P_TELEFONO, V_CORREO = P_CORREO
  WHERE FIDE_CLIENTES_ID_CLIENTE_PK = P_ID_CLIENTE;
  COMMIT;
END;
/

CREATE OR REPLACE PROCEDURE FIDE_CLIENTES_ELIMINAR_SP (
  P_ID_CLIENTE IN FIDE_CLIENTES_TB.FIDE_CLIENTES_ID_CLIENTE_PK%TYPE
) AS
BEGIN
  DELETE FROM FIDE_CLIENTES_TB WHERE FIDE_CLIENTES_ID_CLIENTE_PK = P_ID_CLIENTE;
  COMMIT;
END;
/


--2.-----------------
CREATE TABLE FIDE_DIRECCIONES_TB (
    FIDE_DIRECCIONES_ID_DIRECCION_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    V_PROVINCIA VARCHAR2(50),
    V_CANTON VARCHAR2(50),
    V_DISTRITO VARCHAR2(50),
    V_CODIGO_POSTAL VARCHAR2(10)
);

--crud
CREATE OR REPLACE PROCEDURE FIDE_DIRECCIONES_INSERTAR_SP (
    P_PROVINCIA IN VARCHAR2,
    P_CANTON IN VARCHAR2,
    P_DISTRITO IN VARCHAR2,
    P_CODIGO_POSTAL IN VARCHAR2
) AS
BEGIN
    INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL)
    VALUES (P_PROVINCIA, P_CANTON, P_DISTRITO, P_CODIGO_POSTAL);
    COMMIT;
END;
/

CREATE OR REPLACE PROCEDURE FIDE_DIRECCIONES_ACTUALIZAR_SP (
    P_ID_DIRECCION IN NUMBER,
    P_PROVINCIA IN VARCHAR2,
    P_CANTON IN VARCHAR2,
    P_DISTRITO IN VARCHAR2,
    P_CODIGO_POSTAL IN VARCHAR2
) AS
BEGIN
    UPDATE FIDE_DIRECCIONES_TB
    SET V_PROVINCIA = P_PROVINCIA,
        V_CANTON = P_CANTON,
        V_DISTRITO = P_DISTRITO,
        V_CODIGO_POSTAL = P_CODIGO_POSTAL
    WHERE FIDE_DIRECCIONES_ID_DIRECCION_PK = P_ID_DIRECCION;
    COMMIT;
END;
/

CREATE OR REPLACE PROCEDURE FIDE_DIRECCIONES_ELIMINAR_SP (
    P_ID_DIRECCION IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_DIRECCIONES_TB WHERE FIDE_DIRECCIONES_ID_DIRECCION_PK = P_ID_DIRECCION;
    COMMIT;
END;
/


CREATE OR REPLACE FUNCTION FIDE_DIRECCIONES_OBTENER_FN (
    P_ID_DIRECCION IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_DIRECCIONES_TB WHERE FIDE_DIRECCIONES_ID_DIRECCION_PK = P_ID_DIRECCION;
    RETURN V_CURSOR;
END;
/


CREATE OR REPLACE FUNCTION FIDE_DIRECCIONES_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_DIRECCIONES_TB;
    RETURN V_CURSOR;
END;

/

--3.
CREATE TABLE FIDE_ROLES_TB (
    FIDE_ROLES_ID_ROL_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    V_NOMBRE_ROL VARCHAR2(50) NOT NULL
);

-- CRUD
CREATE OR REPLACE PROCEDURE FIDE_ROLES_INSERTAR_SP (
    P_NOMBRE_ROL IN VARCHAR2
) AS
BEGIN
    INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL)
    VALUES (P_NOMBRE_ROL);
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_ROLES_ACTUALIZAR_SP (
    P_ID_ROL IN NUMBER,
    P_NOMBRE_ROL IN VARCHAR2
) AS
BEGIN
    UPDATE FIDE_ROLES_TB
    SET V_NOMBRE_ROL = P_NOMBRE_ROL
    WHERE FIDE_ROLES_ID_ROL_PK = P_ID_ROL;
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_ROLES_ELIMINAR_SP (
    P_ID_ROL IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_ROLES_TB WHERE FIDE_ROLES_ID_ROL_PK = P_ID_ROL;
    COMMIT;
END;
/


CREATE OR REPLACE FUNCTION FIDE_ROLES_OBTENER_FN (
    P_ID_ROL IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_ROLES_TB WHERE FIDE_ROLES_ID_ROL_PK = P_ID_ROL;
    RETURN V_CURSOR;
END;
/


CREATE OR REPLACE FUNCTION FIDE_ROLES_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_ROLES_TB;
    RETURN V_CURSOR;
END;
/


--4.
CREATE TABLE FIDE_EMPRESA_TB (
    FIDE_EMPRESA_ID_EMPRESA_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    V_NOMBRE VARCHAR2(100) NOT NULL,
    V_TELEFONO VARCHAR2(15),
    V_CORREO VARCHAR2(100),
    FIDE_EMPRESA_ID_DIRECCION_IDX NUMBER,
    FOREIGN KEY (FIDE_EMPRESA_ID_DIRECCION_IDX) REFERENCES FIDE_DIRECCIONES_TB(FIDE_DIRECCIONES_ID_DIRECCION_PK)
);

-- CRUD
CREATE OR REPLACE PROCEDURE FIDE_EMPRESA_INSERTAR_SP (
    P_NOMBRE IN VARCHAR2,
    P_TELEFONO IN VARCHAR2,
    P_CORREO IN VARCHAR2,
    P_ID_DIRECCION IN NUMBER
) AS
BEGIN
    INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX)
    VALUES (P_NOMBRE, P_TELEFONO, P_CORREO, P_ID_DIRECCION);
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_EMPRESA_ACTUALIZAR_SP (
    P_ID_EMPRESA IN NUMBER,
    P_NOMBRE IN VARCHAR2,
    P_TELEFONO IN VARCHAR2,
    P_CORREO IN VARCHAR2,
    P_ID_DIRECCION IN NUMBER
) AS
BEGIN
    UPDATE FIDE_EMPRESA_TB
    SET V_NOMBRE = P_NOMBRE,
        V_TELEFONO = P_TELEFONO,
        V_CORREO = P_CORREO,
        FIDE_EMPRESA_ID_DIRECCION_IDX = P_ID_DIRECCION
    WHERE FIDE_EMPRESA_ID_EMPRESA_PK = P_ID_EMPRESA;
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_EMPRESA_ELIMINAR_SP (
    P_ID_EMPRESA IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_EMPRESA_TB WHERE FIDE_EMPRESA_ID_EMPRESA_PK = P_ID_EMPRESA;
    COMMIT;
END;
/


CREATE OR REPLACE FUNCTION FIDE_EMPRESA_OBTENER_FN (
    P_ID_EMPRESA IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_EMPRESA_TB WHERE FIDE_EMPRESA_ID_EMPRESA_PK = P_ID_EMPRESA;
    RETURN V_CURSOR;
END;
/

CREATE OR REPLACE FUNCTION FIDE_EMPRESA_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_EMPRESA_TB;
    RETURN V_CURSOR;
END;
/

--5.
CREATE TABLE FIDE_VENTAS_TB (
    FIDE_VENTAS_ID_VENTA_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    FIDE_VENTAS_ID_CLIENTE_IDX NUMBER,
    V_FECHA DATE,
    FOREIGN KEY (FIDE_VENTAS_ID_CLIENTE_IDX) REFERENCES FIDE_CLIENTES_TB(FIDE_CLIENTES_ID_CLIENTE_PK)
);

-- CRUD
CREATE OR REPLACE PROCEDURE FIDE_VENTAS_INSERTAR_SP (
    P_ID_CLIENTE IN NUMBER,
    P_FECHA IN DATE
) AS
BEGIN
    INSERT INTO FIDE_VENTAS_TB (FIDE_VENTAS_ID_CLIENTE_IDX, V_FECHA)
    VALUES (P_ID_CLIENTE, P_FECHA);
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_VENTAS_ACTUALIZAR_SP (
    P_ID_VENTA IN NUMBER,
    P_ID_CLIENTE IN NUMBER,
    P_FECHA IN DATE
) AS
BEGIN
    UPDATE FIDE_VENTAS_TB
    SET FIDE_VENTAS_ID_CLIENTE_IDX = P_ID_CLIENTE,
        V_FECHA = P_FECHA
    WHERE FIDE_VENTAS_ID_VENTA_PK = P_ID_VENTA;
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_VENTAS_ELIMINAR_SP (
    P_ID_VENTA IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_VENTAS_TB WHERE FIDE_VENTAS_ID_VENTA_PK = P_ID_VENTA;
    COMMIT;
END;
/

CREATE OR REPLACE FUNCTION FIDE_VENTAS_OBTENER_FN (
    P_ID_VENTA IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_VENTAS_TB WHERE FIDE_VENTAS_ID_VENTA_PK = P_ID_VENTA;
    RETURN V_CURSOR;
END;
/

CREATE OR REPLACE FUNCTION FIDE_VENTAS_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_VENTAS_TB;
    RETURN V_CURSOR;
END;
/

--6.
CREATE TABLE FIDE_DETALLE_VENTA_TB (
    FIDE_DETALLE_VENTA_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    FIDE_DETALLE_VENTA_ID_VENTA_IDX NUMBER NOT NULL,
    FIDE_DETALLE_VENTA_ID_PERFUME_IDX NUMBER NOT NULL,
    N_CANTIDAD NUMBER NOT NULL,
    CONSTRAINT FK_DETALLE_VENTA_VENTA FOREIGN KEY (FIDE_DETALLE_VENTA_ID_VENTA_IDX) REFERENCES FIDE_VENTAS_TB(FIDE_VENTAS_ID_VENTA_PK),
    CONSTRAINT FK_DETALLE_VENTA_PERFUME FOREIGN KEY (FIDE_DETALLE_VENTA_ID_PERFUME_IDX) REFERENCES FIDE_PERFUMES_TB(FIDE_PERFUMES_ID_PERFUME_PK)
);

--CRUD 
CREATE OR REPLACE PROCEDURE FIDE_DETALLE_VENTA_INSERTAR_SP (
    P_ID_VENTA IN NUMBER,
    P_ID_PERFUME IN NUMBER,
    P_CANTIDAD IN NUMBER
) AS
BEGIN
    INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD)
    VALUES (P_ID_VENTA, P_ID_PERFUME, P_CANTIDAD);
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_DETALLE_VENTA_ACTUALIZAR_SP (
    P_ID_DETALLE IN NUMBER,
    P_ID_VENTA IN NUMBER,
    P_ID_PERFUME IN NUMBER,
    P_CANTIDAD IN NUMBER
) AS
BEGIN
    UPDATE FIDE_DETALLE_VENTA_TB
    SET FIDE_DETALLE_VENTA_ID_VENTA_IDX = P_ID_VENTA,
        FIDE_DETALLE_VENTA_ID_PERFUME_IDX = P_ID_PERFUME,
        N_CANTIDAD = P_CANTIDAD
    WHERE FIDE_DETALLE_VENTA_ID = P_ID_DETALLE;
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_DETALLE_VENTA_ELIMINAR_SP (
    P_ID_DETALLE IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_DETALLE_VENTA_TB WHERE FIDE_DETALLE_VENTA_ID = P_ID_DETALLE;
    COMMIT;
END;
/


CREATE OR REPLACE FUNCTION FIDE_DETALLE_VENTA_OBTENER_FN (
    P_ID_DETALLE IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_DETALLE_VENTA_TB WHERE FIDE_DETALLE_VENTA_ID = P_ID_DETALLE;
    RETURN V_CURSOR;
END;
/


CREATE OR REPLACE FUNCTION FIDE_DETALLE_VENTA_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_DETALLE_VENTA_TB;
    RETURN V_CURSOR;
END;
/

--7.

CREATE TABLE FIDE_CARRITO_COMPRAS_TB (
    FIDE_CARRITO_COMPRAS_ID_CARRITO_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX NUMBER,
    FOREIGN KEY (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) REFERENCES FIDE_CLIENTES_TB(FIDE_CLIENTES_ID_CLIENTE_PK)
);

--CRUD
CREATE OR REPLACE PROCEDURE FIDE_CARRITO_COMPRAS_INSERTAR_SP (
    P_ID_CLIENTE IN NUMBER
) AS
BEGIN
    INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX)
    VALUES (P_ID_CLIENTE);
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_CARRITO_COMPRAS_ACTUALIZAR_SP (
    P_ID_CARRITO IN NUMBER,
    P_ID_CLIENTE IN NUMBER
) AS
BEGIN
    UPDATE FIDE_CARRITO_COMPRAS_TB
    SET FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX = P_ID_CLIENTE
    WHERE FIDE_CARRITO_COMPRAS_ID_CARRITO_PK = P_ID_CARRITO;
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_CARRITO_COMPRAS_ELIMINAR_SP (
    P_ID_CARRITO IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_CARRITO_COMPRAS_TB WHERE FIDE_CARRITO_COMPRAS_ID_CARRITO_PK = P_ID_CARRITO;
    COMMIT;
END;
/


CREATE OR REPLACE FUNCTION FIDE_CARRITO_COMPRAS_OBTENER_FN (
    P_ID_CARRITO IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_CARRITO_COMPRAS_TB WHERE FIDE_CARRITO_COMPRAS_ID_CARRITO_PK = P_ID_CARRITO;
    RETURN V_CURSOR;
END;
/


CREATE OR REPLACE FUNCTION FIDE_CARRITO_COMPRAS_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_CARRITO_COMPRAS_TB;
    RETURN V_CURSOR;
END;
/

--8.
CREATE TABLE FIDE_DETALLE_CARRITO_TB (
    FIDE_DETALLE_CARRITO_ID_DETALLE_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    FIDE_DETALLE_CARRITO_ID_CARRITO_IDX NUMBER,
    FIDE_DETALLE_CARRITO_ID_PERFUME_IDX NUMBER,
    V_CANTIDAD NUMBER,
    FOREIGN KEY (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX) REFERENCES FIDE_CARRITO_COMPRAS_TB(FIDE_CARRITO_COMPRAS_ID_CARRITO_PK),
    FOREIGN KEY (FIDE_DETALLE_CARRITO_ID_PERFUME_IDX) REFERENCES FIDE_PERFUMES_TB(FIDE_PERFUMES_ID_PERFUME_PK)
);

--CRUD

CREATE OR REPLACE PROCEDURE FIDE_DETALLE_CARRITO_INSERTAR_SP (
    P_ID_CARRITO IN NUMBER,
    P_ID_PERFUME IN NUMBER,
    P_CANTIDAD IN NUMBER
) AS
BEGIN
    INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, FIDE_DETALLE_CARRITO_ID_PERFUME_IDX, V_CANTIDAD)
    VALUES (P_ID_CARRITO, P_ID_PERFUME, P_CANTIDAD);
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_DETALLE_CARRITO_ACTUALIZAR_SP (
    P_ID_DETALLE IN NUMBER,
    P_ID_CARRITO IN NUMBER,
    P_ID_PERFUME IN NUMBER,
    P_CANTIDAD IN NUMBER
) AS
BEGIN
    UPDATE FIDE_DETALLE_CARRITO_TB
    SET FIDE_DETALLE_CARRITO_ID_CARRITO_IDX = P_ID_CARRITO,
        FIDE_DETALLE_CARRITO_ID_PERFUME_IDX = P_ID_PERFUME,
        V_CANTIDAD = P_CANTIDAD
    WHERE FIDE_DETALLE_CARRITO_ID_DETALLE_PK = P_ID_DETALLE;
    COMMIT;
END;
/

CREATE OR REPLACE PROCEDURE FIDE_DETALLE_CARRITO_ELIMINAR_SP (
    P_ID_DETALLE IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_DETALLE_CARRITO_TB WHERE FIDE_DETALLE_CARRITO_ID_DETALLE_PK = P_ID_DETALLE;
    COMMIT;
END;
/


CREATE OR REPLACE FUNCTION FIDE_DETALLE_CARRITO_OBTENER_FN (
    P_ID_DETALLE IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_DETALLE_CARRITO_TB WHERE FIDE_DETALLE_CARRITO_ID_DETALLE_PK = P_ID_DETALLE;
    RETURN V_CURSOR;
END;
/

CREATE OR REPLACE FUNCTION FIDE_DETALLE_CARRITO_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_DETALLE_CARRITO_TB;
    RETURN V_CURSOR;
END;
/

--9.

CREATE TABLE FIDE_FACTURAS_TB (
    FIDE_FACTURAS_ID_FACTURA_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    FIDE_FACTURAS_ID_VENTA_IDX NUMBER,
    FIDE_FACTURAS_ID_METODO_PAGO_IDX NUMBER,
    V_FECHA_EMISION DATE,
    V_TOTAL DECIMAL(10,2),
    FOREIGN KEY (FIDE_FACTURAS_ID_VENTA_IDX) REFERENCES FIDE_VENTAS_TB(FIDE_VENTAS_ID_VENTA_PK),
    FOREIGN KEY (FIDE_FACTURAS_ID_METODO_PAGO_IDX) REFERENCES FIDE_METODOS_PAGO_TB(FIDE_METODOS_PAGO_ID_METODO_PAGO_PK)
);

--CRUD
CREATE OR REPLACE PROCEDURE FIDE_FACTURAS_INSERTAR_SP (
    P_ID_VENTA IN NUMBER,
    P_ID_METODO_PAGO IN NUMBER,
    P_FECHA_EMISION IN DATE,
    P_TOTAL IN DECIMAL
) AS
BEGIN
    INSERT INTO FIDE_FACTURAS_TB (FIDE_FACTURAS_ID_VENTA_IDX, FIDE_FACTURAS_ID_METODO_PAGO_IDX, V_FECHA_EMISION, V_TOTAL)
    VALUES (P_ID_VENTA, P_ID_METODO_PAGO, P_FECHA_EMISION, P_TOTAL);
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_FACTURAS_ACTUALIZAR_SP (
    P_ID_FACTURA IN NUMBER,
    P_ID_VENTA IN NUMBER,
    P_ID_METODO_PAGO IN NUMBER,
    P_FECHA_EMISION IN DATE,
    P_TOTAL IN DECIMAL
) AS
BEGIN
    UPDATE FIDE_FACTURAS_TB
    SET FIDE_FACTURAS_ID_VENTA_IDX = P_ID_VENTA,
        FIDE_FACTURAS_ID_METODO_PAGO_IDX = P_ID_METODO_PAGO,
        V_FECHA_EMISION = P_FECHA_EMISION,
        V_TOTAL = P_TOTAL
    WHERE FIDE_FACTURAS_ID_FACTURA_PK = P_ID_FACTURA;
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_FACTURAS_ELIMINAR_SP (
    P_ID_FACTURA IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_FACTURAS_TB WHERE FIDE_FACTURAS_ID_FACTURA_PK = P_ID_FACTURA;
    COMMIT;
END;
/


CREATE OR REPLACE FUNCTION FIDE_FACTURAS_OBTENER_FN (
    P_ID_FACTURA IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_FACTURAS_TB WHERE FIDE_FACTURAS_ID_FACTURA_PK = P_ID_FACTURA;
    RETURN V_CURSOR;
END;
/


CREATE OR REPLACE FUNCTION FIDE_FACTURAS_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_FACTURAS_TB;
    RETURN V_CURSOR;
END;

/

--10.
CREATE TABLE FIDE_METODOS_PAGO_TB (
    FIDE_METODOS_PAGO_ID_METODO_PAGO_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    V_METODO VARCHAR2(50) NOT NULL
);

--CRUD
CREATE OR REPLACE PROCEDURE FIDE_METODOS_PAGO_INSERTAR_SP (
    P_METODO IN VARCHAR2
) AS
BEGIN
    INSERT INTO FIDE_METODOS_PAGO_TB (V_METODO)
    VALUES (P_METODO);
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_METODOS_PAGO_ACTUALIZAR_SP (
    P_ID_METODO_PAGO IN NUMBER,
    P_METODO IN VARCHAR2
) AS
BEGIN
    UPDATE FIDE_METODOS_PAGO_TB
    SET V_METODO = P_METODO
    WHERE FIDE_METODOS_PAGO_ID_METODO_PAGO_PK = P_ID_METODO_PAGO;
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_METODOS_PAGO_ELIMINAR_SP (
    P_ID_METODO_PAGO IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_METODOS_PAGO_TB WHERE FIDE_METODOS_PAGO_ID_METODO_PAGO_PK = P_ID_METODO_PAGO;
    COMMIT;
END;
/


CREATE OR REPLACE FUNCTION FIDE_METODOS_PAGO_OBTENER_FN (
    P_ID_METODO_PAGO IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_METODOS_PAGO_TB WHERE FIDE_METODOS_PAGO_ID_METODO_PAGO_PK = P_ID_METODO_PAGO;
    RETURN V_CURSOR;
END;
/


CREATE OR REPLACE FUNCTION FIDE_METODOS_PAGO_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_METODOS_PAGO_TB;
    RETURN V_CURSOR;
END;
/

--11.
CREATE TABLE FIDE_DETALLE_FACTURA_TB (
    FIDE_DETALLE_FACTURA_ID_DETALLE_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    FIDE_DETALLE_FACTURA_ID_FACTURA_IDX NUMBER,
    FIDE_DETALLE_FACTURA_ID_PERFUME_IDX NUMBER,
    V_CANTIDAD NUMBER,
    V_PRECIO_UNITARIO DECIMAL(10,2),
    V_SUBTOTAL DECIMAL(10,2),
    FOREIGN KEY (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX) REFERENCES FIDE_FACTURAS_TB(FIDE_FACTURAS_ID_FACTURA_PK),
    FOREIGN KEY (FIDE_DETALLE_FACTURA_ID_PERFUME_IDX) REFERENCES FIDE_PERFUMES_TB(FIDE_PERFUMES_ID_PERFUME_PK)
);

--CRUD
CREATE OR REPLACE PROCEDURE FIDE_DETALLE_FACTURA_INSERTAR_SP (
    P_ID_FACTURA IN NUMBER,
    P_ID_PERFUME IN NUMBER,
    P_CANTIDAD IN NUMBER,
    P_PRECIO_UNITARIO IN DECIMAL
) AS
BEGIN
    INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, FIDE_DETALLE_FACTURA_ID_PERFUME_IDX, V_CANTIDAD, V_PRECIO_UNITARIO, V_SUBTOTAL)
    VALUES (P_ID_FACTURA, P_ID_PERFUME, P_CANTIDAD, P_PRECIO_UNITARIO, P_CANTIDAD * P_PRECIO_UNITARIO);
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_DETALLE_FACTURA_ACTUALIZAR_SP (
    P_ID_DETALLE IN NUMBER,
    P_CANTIDAD IN NUMBER,
    P_PRECIO_UNITARIO IN DECIMAL
) AS
BEGIN
    UPDATE FIDE_DETALLE_FACTURA_TB
    SET V_CANTIDAD = P_CANTIDAD,
        V_PRECIO_UNITARIO = P_PRECIO_UNITARIO,
        V_SUBTOTAL = P_CANTIDAD * P_PRECIO_UNITARIO
    WHERE FIDE_DETALLE_FACTURA_ID_DETALLE_PK = P_ID_DETALLE;
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_DETALLE_FACTURA_ELIMINAR_SP (
    P_ID_DETALLE IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_DETALLE_FACTURA_TB WHERE FIDE_DETALLE_FACTURA_ID_DETALLE_PK = P_ID_DETALLE;
    COMMIT;
END;
/


CREATE OR REPLACE FUNCTION FIDE_DETALLE_FACTURA_OBTENER_FN (
    P_ID_DETALLE IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_DETALLE_FACTURA_TB WHERE FIDE_DETALLE_FACTURA_ID_DETALLE_PK = P_ID_DETALLE;
    RETURN V_CURSOR;
END;
/


CREATE OR REPLACE FUNCTION FIDE_DETALLE_FACTURA_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_DETALLE_FACTURA_TB;
    RETURN V_CURSOR;
END;
/

--12.
CREATE TABLE FIDE_REPORTES_TB (
    FIDE_REPORTES_ID_REPORTE_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    FIDE_REPORTES_ID_VENTA_IDX NUMBER,
    V_FECHA_GENERADO DATE,
    V_VENTAS_TOTALES DECIMAL(10,2),
    V_PERFUME_ESTRELLA VARCHAR2(100),
    FOREIGN KEY (FIDE_REPORTES_ID_VENTA_IDX) REFERENCES FIDE_VENTAS_TB(FIDE_VENTAS_ID_VENTA_PK)
);

--CRUD

CREATE OR REPLACE PROCEDURE FIDE_REPORTES_INSERTAR_SP (
    P_ID_VENTA IN NUMBER,
    P_FECHA_GENERADO IN DATE,
    P_VENTAS_TOTALES IN DECIMAL,
    P_PERFUME_ESTRELLA IN VARCHAR2
) AS
BEGIN
    INSERT INTO FIDE_REPORTES_TB (FIDE_REPORTES_ID_VENTA_IDX, V_FECHA_GENERADO, V_VENTAS_TOTALES, V_PERFUME_ESTRELLA)
    VALUES (P_ID_VENTA, P_FECHA_GENERADO, P_VENTAS_TOTALES, P_PERFUME_ESTRELLA);
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_REPORTES_ACTUALIZAR_SP (
    P_ID_REPORTE IN NUMBER,
    P_FECHA_GENERADO IN DATE,
    P_VENTAS_TOTALES IN DECIMAL,
    P_PERFUME_ESTRELLA IN VARCHAR2
) AS
BEGIN
    UPDATE FIDE_REPORTES_TB
    SET V_FECHA_GENERADO = P_FECHA_GENERADO,
        V_VENTAS_TOTALES = P_VENTAS_TOTALES,
        V_PERFUME_ESTRELLA = P_PERFUME_ESTRELLA
    WHERE FIDE_REPORTES_ID_REPORTE_PK = P_ID_REPORTE;
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_REPORTES_ELIMINAR_SP (
    P_ID_REPORTE IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_REPORTES_TB WHERE FIDE_REPORTES_ID_REPORTE_PK = P_ID_REPORTE;
    COMMIT;
END;
/


CREATE OR REPLACE FUNCTION FIDE_REPORTES_OBTENER_FN (
    P_ID_REPORTE IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_REPORTES_TB WHERE FIDE_REPORTES_ID_REPORTE_PK = P_ID_REPORTE;
    RETURN V_CURSOR;
END;
/


CREATE OR REPLACE FUNCTION FIDE_REPORTES_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_REPORTES_TB;
    RETURN V_CURSOR;
END;
/

--13.
CREATE TABLE FIDE_PERFUMES_TB (
    FIDE_PERFUMES_ID_PERFUME_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    FIDE_PERFUMES_ID_MARCA_IDX NUMBER,
    FIDE_PERFUMES_ID_TIPO_PERFUME_IDX NUMBER,
    V_NOMBRE VARCHAR2(100) NOT NULL,
    V_TAMAÑO VARCHAR2(50),
    V_PRECIO DECIMAL(10,2),
    FOREIGN KEY (FIDE_PERFUMES_ID_MARCA_IDX) REFERENCES FIDE_MARCAS_TB(FIDE_MARCAS_ID_MARCA_PK),
    FOREIGN KEY (FIDE_PERFUMES_ID_TIPO_PERFUME_IDX) REFERENCES FIDE_TIPO_PERFUMES_TB(FIDE_TIPO_PERFUMES_ID_TIPO_PERFUME_PK)
);

--CRUD
CREATE OR REPLACE PROCEDURE FIDE_PERFUMES_INSERTAR_SP (
    P_ID_MARCA IN NUMBER,
    P_ID_TIPO_PERFUME IN NUMBER,
    P_NOMBRE IN VARCHAR2,
    P_TAMAÑO IN VARCHAR2,
    P_PRECIO IN DECIMAL
) AS
BEGIN
    INSERT INTO FIDE_PERFUMES_TB (FIDE_PERFUMES_ID_MARCA_IDX, FIDE_PERFUMES_ID_TIPO_PERFUME_IDX, V_NOMBRE, V_TAMAÑO, V_PRECIO)
    VALUES (P_ID_MARCA, P_ID_TIPO_PERFUME, P_NOMBRE, P_TAMAÑO, P_PRECIO);
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_PERFUMES_ACTUALIZAR_SP (
    P_ID_PERFUME IN NUMBER,
    P_ID_MARCA IN NUMBER,
    P_ID_TIPO_PERFUME IN NUMBER,
    P_NOMBRE IN VARCHAR2,
    P_TAMAÑO IN VARCHAR2,
    P_PRECIO IN DECIMAL
) AS
BEGIN
    UPDATE FIDE_PERFUMES_TB
    SET FIDE_PERFUMES_ID_MARCA_IDX = P_ID_MARCA,
        FIDE_PERFUMES_ID_TIPO_PERFUME_IDX = P_ID_TIPO_PERFUME,
        V_NOMBRE = P_NOMBRE,
        V_TAMAÑO = P_TAMAÑO,
        V_PRECIO = P_PRECIO
    WHERE FIDE_PERFUMES_ID_PERFUME_PK = P_ID_PERFUME;
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_PERFUMES_ELIMINAR_SP (
    P_ID_PERFUME IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_PERFUMES_TB WHERE FIDE_PERFUMES_ID_PERFUME_PK = P_ID_PERFUME;
    COMMIT;
END;
/


CREATE OR REPLACE FUNCTION FIDE_PERFUMES_OBTENER_FN (
    P_ID_PERFUME IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_PERFUMES_TB WHERE FIDE_PERFUMES_ID_PERFUME_PK = P_ID_PERFUME;
    RETURN V_CURSOR;
END;
/


CREATE OR REPLACE FUNCTION FIDE_PERFUMES_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_PERFUMES_TB;
    RETURN V_CURSOR;
END;
/

--14.
CREATE TABLE FIDE_MARCAS_TB (
    FIDE_MARCAS_ID_MARCA_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    V_NOMBRE_MARCA VARCHAR2(100) NOT NULL
);

--CRUD
CREATE OR REPLACE PROCEDURE FIDE_MARCAS_INSERTAR_SP (
    P_NOMBRE_MARCA IN VARCHAR2
) AS
BEGIN
    INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA)
    VALUES (P_NOMBRE_MARCA);
    COMMIT;
END;
/


CREATE OR REPLACE PROCEDURE FIDE_MARCAS_ACTUALIZAR_SP (
    P_ID_MARCA IN NUMBER,
    P_NOMBRE_MARCA IN VARCHAR2
) AS
BEGIN
    UPDATE FIDE_MARCAS_TB
    SET V_NOMBRE_MARCA = P_NOMBRE_MARCA
    WHERE FIDE_MARCAS_ID_MARCA_PK = P_ID_MARCA;
    COMMIT;
END;
/

CREATE OR REPLACE PROCEDURE FIDE_MARCAS_ELIMINAR_SP (
    P_ID_MARCA IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_MARCAS_TB WHERE FIDE_MARCAS_ID_MARCA_PK = P_ID_MARCA;
    COMMIT;
END;
/


CREATE OR REPLACE FUNCTION FIDE_MARCAS_OBTENER_FN (
    P_ID_MARCA IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_MARCAS_TB WHERE FIDE_MARCAS_ID_MARCA_PK = P_ID_MARCA;
    RETURN V_CURSOR;
END;
/


CREATE OR REPLACE FUNCTION FIDE_MARCAS_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_MARCAS_TB;
    RETURN V_CURSOR;
END;
/

--15.
CREATE TABLE FIDE_TIPO_PERFUMES_TB (
    FIDE_TIPO_PERFUMES_ID_TIPO_PERFUME_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    V_DESCRIPCION VARCHAR2(255) NOT NULL
);
/
--CRUD

CREATE OR REPLACE PROCEDURE FIDE_TIPO_PERFUMES_INSERTAR_SP (
    P_DESCRIPCION IN VARCHAR2
) AS
BEGIN
    INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION)
    VALUES (P_DESCRIPCION);
    COMMIT;
END;
/

CREATE OR REPLACE PROCEDURE FIDE_TIPO_PERFUMES_ACTUALIZAR_SP (
    P_ID_TIPO_PERFUME IN NUMBER,
    P_DESCRIPCION IN VARCHAR2
) AS
BEGIN
    UPDATE FIDE_TIPO_PERFUMES_TB
    SET V_DESCRIPCION = P_DESCRIPCION
    WHERE FIDE_TIPO_PERFUMES_ID_TIPO_PERFUME_PK = P_ID_TIPO_PERFUME;
    COMMIT;
END;
/

CREATE OR REPLACE PROCEDURE FIDE_TIPO_PERFUMES_ELIMINAR_SP (
    P_ID_TIPO_PERFUME IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_TIPO_PERFUMES_TB WHERE FIDE_TIPO_PERFUMES_ID_TIPO_PERFUME_PK = P_ID_TIPO_PERFUME;
    COMMIT;
END;
/


CREATE OR REPLACE FUNCTION FIDE_TIPO_PERFUMES_OBTENER_FN (
    P_ID_TIPO_PERFUME IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_TIPO_PERFUMES_TB WHERE FIDE_TIPO_PERFUMES_ID_TIPO_PERFUME_PK = P_ID_TIPO_PERFUME;
    RETURN V_CURSOR;
END;
/


CREATE OR REPLACE FUNCTION FIDE_TIPO_PERFUMES_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_TIPO_PERFUMES_TB;
    RETURN V_CURSOR;
END;
/

--16.

CREATE TABLE FIDE_INVENTARIO_TB (
    FIDE_INVENTARIO_ID_INVENTARIO_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    FIDE_INVENTARIO_ID_PERFUME_IDX NUMBER,
    V_STOCK_DISPONIBLE NUMBER,
    FOREIGN KEY (FIDE_INVENTARIO_ID_PERFUME_IDX) REFERENCES FIDE_PERFUMES_TB(FIDE_PERFUMES_ID_PERFUME_PK)
);

--CRUD

CREATE OR REPLACE PROCEDURE FIDE_INVENTARIO_INSERTAR_SP (
    P_ID_PERFUME IN NUMBER,
    P_STOCK_DISPONIBLE IN NUMBER
) AS
BEGIN
    INSERT INTO FIDE_INVENTARIO_TB (FIDE_INVENTARIO_ID_PERFUME_IDX, V_STOCK_DISPONIBLE)
    VALUES (P_ID_PERFUME, P_STOCK_DISPONIBLE);
    COMMIT;
END;
/

CREATE OR REPLACE PROCEDURE FIDE_INVENTARIO_ACTUALIZAR_SP (
    P_ID_INVENTARIO IN NUMBER,
    P_ID_PERFUME IN NUMBER,
    P_STOCK_DISPONIBLE IN NUMBER
) AS
BEGIN
    UPDATE FIDE_INVENTARIO_TB
    SET FIDE_INVENTARIO_ID_PERFUME_IDX = P_ID_PERFUME,
        V_STOCK_DISPONIBLE = P_STOCK_DISPONIBLE
    WHERE FIDE_INVENTARIO_ID_INVENTARIO_PK = P_ID_INVENTARIO;
    COMMIT;
END;
/

CREATE OR REPLACE PROCEDURE FIDE_INVENTARIO_ELIMINAR_SP (
    P_ID_INVENTARIO IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_INVENTARIO_TB WHERE FIDE_INVENTARIO_ID_INVENTARIO_PK = P_ID_INVENTARIO;
    COMMIT;
END;
/

CREATE OR REPLACE FUNCTION FIDE_INVENTARIO_OBTENER_FN (
    P_ID_INVENTARIO IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_INVENTARIO_TB WHERE FIDE_INVENTARIO_ID_INVENTARIO_PK = P_ID_INVENTARIO;
    RETURN V_CURSOR;
END;
/

CREATE OR REPLACE FUNCTION FIDE_INVENTARIO_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_INVENTARIO_TB;
    RETURN V_CURSOR;
END;
/

--17.
CREATE TABLE FIDE_PROVEEDORES_TB (
    FIDE_PROVEEDORES_ID_PROVEEDOR_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    V_NOMBRE VARCHAR2(100) NOT NULL,
    V_EMAIL VARCHAR2(100),
    V_TELEFONO VARCHAR2(15)
);

--CRUD

CREATE OR REPLACE PROCEDURE FIDE_PROVEEDORES_INSERTAR_SP (
    P_NOMBRE IN VARCHAR2,
    P_EMAIL IN VARCHAR2,
    P_TELEFONO IN VARCHAR2
) AS
BEGIN
    INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_EMAIL, V_TELEFONO)
    VALUES (P_NOMBRE, P_EMAIL, P_TELEFONO);
    COMMIT;
END;
/

CREATE OR REPLACE PROCEDURE FIDE_PROVEEDORES_ACTUALIZAR_SP (
    P_ID_PROVEEDOR IN NUMBER,
    P_NOMBRE IN VARCHAR2,
    P_EMAIL IN VARCHAR2,
    P_TELEFONO IN VARCHAR2
) AS
BEGIN
    UPDATE FIDE_PROVEEDORES_TB
    SET V_NOMBRE = P_NOMBRE,
        V_EMAIL = P_EMAIL,
        V_TELEFONO = P_TELEFONO
    WHERE FIDE_PROVEEDORES_ID_PROVEEDOR_PK = P_ID_PROVEEDOR;
    COMMIT;
END;
/

CREATE OR REPLACE PROCEDURE FIDE_PROVEEDORES_ELIMINAR_SP (
    P_ID_PROVEEDOR IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_PROVEEDORES_TB WHERE FIDE_PROVEEDORES_ID_PROVEEDOR_PK = P_ID_PROVEEDOR;
    COMMIT;
END;
/


CREATE OR REPLACE FUNCTION FIDE_PROVEEDORES_OBTENER_FN (
    P_ID_PROVEEDOR IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_PROVEEDORES_TB WHERE FIDE_PROVEEDORES_ID_PROVEEDOR_PK = P_ID_PROVEEDOR;
    RETURN V_CURSOR;
END;
/

CREATE OR REPLACE FUNCTION FIDE_PROVEEDORES_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_PROVEEDORES_TB;
    RETURN V_CURSOR;
END;
/

--18.
CREATE TABLE FIDE_SUMINISTROS_TB (
    FIDE_SUMINISTROS_ID_SUMINISTROS_PK NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    FIDE_SUMINISTROS_ID_PERFUME_IDX NUMBER,
    FIDE_SUMINISTROS_ID_PROVEEDOR_IDX NUMBER,
    V_CANTIDAD_SUMINISTRADA NUMBER,
    V_FECHA_SUMINISTRO DATE,
    FOREIGN KEY (FIDE_SUMINISTROS_ID_PERFUME_IDX) REFERENCES FIDE_PERFUMES_TB(FIDE_PERFUMES_ID_PERFUME_PK),
    FOREIGN KEY (FIDE_SUMINISTROS_ID_PROVEEDOR_IDX) REFERENCES FIDE_PROVEEDORES_TB(FIDE_PROVEEDORES_ID_PROVEEDOR_PK)
);

--CRUD

CREATE OR REPLACE PROCEDURE FIDE_SUMINISTROS_INSERTAR_SP (
    P_ID_PERFUME IN NUMBER,
    P_ID_PROVEEDOR IN NUMBER,
    P_CANTIDAD_SUMINISTRADA IN NUMBER,
    P_FECHA_SUMINISTRO IN DATE
) AS
BEGIN
    INSERT INTO FIDE_SUMINISTROS_TB (FIDE_SUMINISTROS_ID_PERFUME_IDX, FIDE_SUMINISTROS_ID_PROVEEDOR_IDX, V_CANTIDAD_SUMINISTRADA, V_FECHA_SUMINISTRO)
    VALUES (P_ID_PERFUME, P_ID_PROVEEDOR, P_CANTIDAD_SUMINISTRADA, P_FECHA_SUMINISTRO);
    COMMIT;
END;
/

CREATE OR REPLACE PROCEDURE FIDE_SUMINISTROS_ACTUALIZAR_SP (
    P_ID_SUMINISTRO IN NUMBER,
    P_ID_PERFUME IN NUMBER,
    P_ID_PROVEEDOR IN NUMBER,
    P_CANTIDAD_SUMINISTRADA IN NUMBER,
    P_FECHA_SUMINISTRO IN DATE
) AS
BEGIN
    UPDATE FIDE_SUMINISTROS_TB
    SET FIDE_SUMINISTROS_ID_PERFUME_IDX = P_ID_PERFUME,
        FIDE_SUMINISTROS_ID_PROVEEDOR_IDX = P_ID_PROVEEDOR,
        V_CANTIDAD_SUMINISTRADA = P_CANTIDAD_SUMINISTRADA,
        V_FECHA_SUMINISTRO = P_FECHA_SUMINISTRO
    WHERE FIDE_SUMINISTROS_ID_SUMINISTROS_PK = P_ID_SUMINISTRO;
    COMMIT;
END;
/

CREATE OR REPLACE PROCEDURE FIDE_SUMINISTROS_ELIMINAR_SP (
    P_ID_SUMINISTRO IN NUMBER
) AS
BEGIN
    DELETE FROM FIDE_SUMINISTROS_TB WHERE FIDE_SUMINISTROS_ID_SUMINISTROS_PK = P_ID_SUMINISTRO;
    COMMIT;
END;
/


CREATE OR REPLACE FUNCTION FIDE_SUMINISTROS_OBTENER_FN (
    P_ID_SUMINISTRO IN NUMBER
) RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_SUMINISTROS_TB WHERE FIDE_SUMINISTROS_ID_SUMINISTROS_PK = P_ID_SUMINISTRO;
    RETURN V_CURSOR;
END;
/


CREATE OR REPLACE FUNCTION FIDE_SUMINISTROS_LISTAR_FN RETURN SYS_REFCURSOR AS
    V_CURSOR SYS_REFCURSOR;
BEGIN
    OPEN V_CURSOR FOR
    SELECT * FROM FIDE_SUMINISTROS_TB;
    RETURN V_CURSOR;
END;



/
-----------------------------------------------
--Inserción de datos para FIDE_DIRECCIONES_TB--
-----------------------------------------------

--FIDE_DIRECCIONES_TB

INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL) 
VALUES ('San José', 'San José', 'Catedral', '10101');
INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL) 
VALUES ('Alajuela', 'Alajuela', 'San José', '20101');
INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL) 
VALUES ('Heredia', 'Heredia', 'San Francisco', '40103');
INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL) 
VALUES ('Cartago', 'Cartago', 'Oriental', '30102');
INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL) 
VALUES ('Guanacaste', 'Liberia', 'Liberia', '50101');
INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL) 
VALUES ('Puntarenas', 'Puntarenas', 'Barrio El Carmen', '60101');
INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL) 
VALUES ('Limón', 'Limón', 'Valle La Estrella', '70102');
INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL) 
VALUES ('San José', 'Escazú', 'San Rafael', '10203');
INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL) 
VALUES ('Heredia', 'Belén', 'San Antonio', '40701');
INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL) 
VALUES ('Cartago', 'Paraíso', 'Santiago', '30701');
INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL) 
VALUES ('San José', 'Desamparados', 'San Rafael Abajo', '10305');
INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL) 
VALUES ('Guanacaste', 'Santa Cruz', 'Bolívar', '50302');
INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL) 
VALUES ('Puntarenas', 'Quepos', 'Savegre', '60601');
INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL) 
VALUES ('Limón', 'Talamanca', 'Cahuita', '70403');
INSERT INTO FIDE_DIRECCIONES_TB (V_PROVINCIA, V_CANTON, V_DISTRITO, V_CODIGO_POSTAL) 
VALUES ('Alajuela', 'San Ramón', 'San Ramón', '20201');


/
-- FIDE_ROLES_TB
INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL) VALUES ('Administrador');
INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL) VALUES ('Cliente');
INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL) VALUES ('Vendedor');
INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL) VALUES ('Proveedor');
INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL) VALUES ('Gerente');
INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL) VALUES ('Marketing');
INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL) VALUES ('Soporte Técnico');
INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL) VALUES ('Contador');
INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL) VALUES ('Asistente');
INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL) VALUES ('Supervisor');
INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL) VALUES ('Bodeguero');
INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL) VALUES ('Analista');
INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL) VALUES ('Consultor');
INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL) VALUES ('Desarrollador');
INSERT INTO FIDE_ROLES_TB (V_NOMBRE_ROL) VALUES ('Recepcionista');
/

-- FIDE_CLIENTES_TB
INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX) VALUES
('Juan Pérez', '50688887777', 'juan.perez@gmail.com', 1, 2);
INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX) VALUES
('María Gómez', '50683221144', 'maria.gomez@hotmail.com', 2, 2);
INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX) VALUES
('Carlos Rodríguez', '50687112233', 'carlos.rodriguez@yahoo.com', 3, 2);
INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX) VALUES
('Ana Mora', '50689996655', 'ana.mora@outlook.com', 4, 2);
INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX) VALUES
('Pedro Fernández', '50686554433', 'pedro.fernandez@gmail.com', 5, 2);
INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX) VALUES
('Laura Jiménez', '50685447788', 'laura.jimenez@gmail.com', 6, 2);
INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX) VALUES
('Sofía Vargas', '50681234567', 'sofia.vargas@gmail.com', 7, 2);
INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX) VALUES
('Andrés Castro', '50688997755', 'andres.castro@yahoo.com', 8, 2);
INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX) VALUES
('Manuel Chaves', '50689998877', 'manuel.chaves@outlook.com', 9, 2);
INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX) VALUES
('Carolina Rojas', '50685667788', 'carolina.rojas@gmail.com', 10, 2);
INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX) VALUES
('Ricardo Méndez', '50687889900', 'ricardo.mendez@hotmail.com', 11, 2);
INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX) VALUES
('Paola Herrera', '50686665544', 'paola.herrera@gmail.com', 12, 2);
INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX) VALUES
('Roberto Solís', '50688774433', 'roberto.solis@outlook.com', 13, 2);
INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX) VALUES
('Verónica Cordero', '50689991122', 'veronica.cordero@gmail.com', 14, 2);
INSERT INTO FIDE_CLIENTES_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_CLIENTES_ID_DIRECCION_IDX, FIDE_CLIENTES_ID_ROL_IDX) VALUES
('José Espinoza', '50684443322', 'jose.espinoza@gmail.com', 15, 2);

/
-- FIDE_EMPRESA_TB
INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX) VALUES
('Perfumes Costa Rica', '50622223333', 'contacto@perfumescr.com', 1);
INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX) VALUES
('Aromas Tropicales', '50683334444', 'info@aromastropicales.com', 2);
INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX) VALUES
('Esencias Pura Vida', '50685556666', 'ventas@esenciaspuravida.com', 3);
INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX) VALUES
('Fragrancias del Bosque', '50687778899', 'contacto@fragranciasbosque.com', 4);
INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX) VALUES
('Perfumería La Sabana', '50689990011', 'info@perfumerialasabana.com', 5);
INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX) VALUES
('Olores de la Montaña', '50686667788', 'ventas@oloresmontana.com', 6);
INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX) VALUES
('Dulce Aroma', '50683335555', 'contacto@dulcearoma.com', 7);
INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX) VALUES
('Colonia Azul', '50682229988', 'info@coloniaazul.com', 8);
INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX) VALUES
('Aromas del Caribe', '50687774422', 'ventas@aromascaribe.com', 9);
INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX) VALUES
('Perfumes del Pacífico', '50688881100', 'info@perfumespacifico.com', 10);
INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX) VALUES
('Seducción Costarricense', '50685554422', 'contacto@seduccioncr.com', 11);
INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX) VALUES
('Esmaltes y Aromas', '50682221177', 'info@esmaltesyaromas.com', 12);
INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX) VALUES
('Delicadeza Natural', '50683336688', 'ventas@delicadezanatural.com', 13);
INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX) VALUES
('Aromaterapia Tica', '50689992233', 'contacto@aromaterapiatica.com', 14);
INSERT INTO FIDE_EMPRESA_TB (V_NOMBRE, V_TELEFONO, V_CORREO, FIDE_EMPRESA_ID_DIRECCION_IDX) VALUES
('Frutas y Esencias', '50681118899', 'info@frutasyesencias.com', 15);

/

-- FIDE_VENTAS_TB
INSERT INTO FIDE_VENTAS_TB (V_FECHA, FIDE_VENTAS_ID_CLIENTE_IDX) VALUES
(TO_DATE('2024-03-01', 'YYYY-MM-DD'), 1);
INSERT INTO FIDE_VENTAS_TB (V_FECHA, FIDE_VENTAS_ID_CLIENTE_IDX) VALUES
(TO_DATE('2024-03-02', 'YYYY-MM-DD'), 2);
INSERT INTO FIDE_VENTAS_TB (V_FECHA, FIDE_VENTAS_ID_CLIENTE_IDX) VALUES
(TO_DATE('2024-03-03', 'YYYY-MM-DD'), 3);
INSERT INTO FIDE_VENTAS_TB (V_FECHA, FIDE_VENTAS_ID_CLIENTE_IDX) VALUES
(TO_DATE('2024-03-04', 'YYYY-MM-DD'), 4);
INSERT INTO FIDE_VENTAS_TB (V_FECHA, FIDE_VENTAS_ID_CLIENTE_IDX) VALUES
(TO_DATE('2024-03-05', 'YYYY-MM-DD'), 5);
INSERT INTO FIDE_VENTAS_TB (V_FECHA, FIDE_VENTAS_ID_CLIENTE_IDX) VALUES
(TO_DATE('2024-03-06', 'YYYY-MM-DD'), 6);
INSERT INTO FIDE_VENTAS_TB (V_FECHA, FIDE_VENTAS_ID_CLIENTE_IDX) VALUES
(TO_DATE('2024-03-07', 'YYYY-MM-DD'), 7);
INSERT INTO FIDE_VENTAS_TB (V_FECHA, FIDE_VENTAS_ID_CLIENTE_IDX) VALUES
(TO_DATE('2024-03-08', 'YYYY-MM-DD'), 8);
INSERT INTO FIDE_VENTAS_TB (V_FECHA, FIDE_VENTAS_ID_CLIENTE_IDX) VALUES
(TO_DATE('2024-03-09', 'YYYY-MM-DD'), 9);
INSERT INTO FIDE_VENTAS_TB (V_FECHA, FIDE_VENTAS_ID_CLIENTE_IDX) VALUES
(TO_DATE('2024-03-10', 'YYYY-MM-DD'), 10);
INSERT INTO FIDE_VENTAS_TB (V_FECHA, FIDE_VENTAS_ID_CLIENTE_IDX) VALUES
(TO_DATE('2024-03-11', 'YYYY-MM-DD'), 11);
INSERT INTO FIDE_VENTAS_TB (V_FECHA, FIDE_VENTAS_ID_CLIENTE_IDX) VALUES
(TO_DATE('2024-03-12', 'YYYY-MM-DD'), 12);
INSERT INTO FIDE_VENTAS_TB (V_FECHA, FIDE_VENTAS_ID_CLIENTE_IDX) VALUES
(TO_DATE('2024-03-13', 'YYYY-MM-DD'), 13);
INSERT INTO FIDE_VENTAS_TB (V_FECHA, FIDE_VENTAS_ID_CLIENTE_IDX) VALUES
(TO_DATE('2024-03-14', 'YYYY-MM-DD'), 14);
INSERT INTO FIDE_VENTAS_TB (V_FECHA, FIDE_VENTAS_ID_CLIENTE_IDX) VALUES
(TO_DATE('2024-03-15', 'YYYY-MM-DD'), 15);
/

-- FIDE_CARRITO_COMPRAS_TB
INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) VALUES
(1);
INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) VALUES
(2);
INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) VALUES
(3);
INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) VALUES
(4);
INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) VALUES
(5);
INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) VALUES
(6);
INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) VALUES
(7);
INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) VALUES
(8);
INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) VALUES
(9);
INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) VALUES
(10);
INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) VALUES
(11);
INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) VALUES
(12);
INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) VALUES
(13);
INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) VALUES
(14);
INSERT INTO FIDE_CARRITO_COMPRAS_TB (FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX) VALUES
(15);

/
-- FIDE_DETALLE_CARRITO_TB
INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, V_CANTIDAD) VALUES
(1, 2);
INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, V_CANTIDAD) VALUES
(2, 3);
INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, V_CANTIDAD) VALUES
(3, 1);
INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, V_CANTIDAD) VALUES
(4, 5);
INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, V_CANTIDAD) VALUES
(5, 2);
INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, V_CANTIDAD) VALUES
(6, 4);
INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, V_CANTIDAD) VALUES
(7, 6);
INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, V_CANTIDAD) VALUES
(8, 1);
INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, V_CANTIDAD) VALUES
(9, 2);
INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, V_CANTIDAD) VALUES
(10, 3);
INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, V_CANTIDAD) VALUES
(11, 1);
INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, V_CANTIDAD) VALUES
(12, 5);
INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, V_CANTIDAD) VALUES
(13, 4);
INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, V_CANTIDAD) VALUES
(14, 2);
INSERT INTO FIDE_DETALLE_CARRITO_TB (FIDE_DETALLE_CARRITO_ID_CARRITO_IDX, V_CANTIDAD) VALUES
(15, 3);

/
-- FIDE_FACTURAS_TB
INSERT INTO FIDE_FACTURAS_TB (V_FECHA_EMISION, FIDE_FACTURAS_ID_VENTA_IDX) VALUES
(TO_DATE('2024-03-01', 'YYYY-MM-DD'), 1);
INSERT INTO FIDE_FACTURAS_TB (V_FECHA_EMISION, FIDE_FACTURAS_ID_VENTA_IDX) VALUES
(TO_DATE('2024-03-02', 'YYYY-MM-DD'), 2);
INSERT INTO FIDE_FACTURAS_TB (V_FECHA_EMISION, FIDE_FACTURAS_ID_VENTA_IDX) VALUES
(TO_DATE('2024-03-03', 'YYYY-MM-DD'), 3);
INSERT INTO FIDE_FACTURAS_TB (V_FECHA_EMISION, FIDE_FACTURAS_ID_VENTA_IDX) VALUES
(TO_DATE('2024-03-04', 'YYYY-MM-DD'), 4);
INSERT INTO FIDE_FACTURAS_TB (V_FECHA_EMISION, FIDE_FACTURAS_ID_VENTA_IDX) VALUES
(TO_DATE('2024-03-05', 'YYYY-MM-DD'), 5);
INSERT INTO FIDE_FACTURAS_TB (V_FECHA_EMISION, FIDE_FACTURAS_ID_VENTA_IDX) VALUES
(TO_DATE('2024-03-06', 'YYYY-MM-DD'), 6);
INSERT INTO FIDE_FACTURAS_TB (V_FECHA_EMISION, FIDE_FACTURAS_ID_VENTA_IDX) VALUES
(TO_DATE('2024-03-07', 'YYYY-MM-DD'), 7);
INSERT INTO FIDE_FACTURAS_TB (V_FECHA_EMISION, FIDE_FACTURAS_ID_VENTA_IDX) VALUES
(TO_DATE('2024-03-08', 'YYYY-MM-DD'), 8);
INSERT INTO FIDE_FACTURAS_TB (V_FECHA_EMISION, FIDE_FACTURAS_ID_VENTA_IDX) VALUES
(TO_DATE('2024-03-09', 'YYYY-MM-DD'), 9);
INSERT INTO FIDE_FACTURAS_TB (V_FECHA_EMISION, FIDE_FACTURAS_ID_VENTA_IDX) VALUES
(TO_DATE('2024-03-10', 'YYYY-MM-DD'), 10);
INSERT INTO FIDE_FACTURAS_TB (V_FECHA_EMISION, FIDE_FACTURAS_ID_VENTA_IDX) VALUES
(TO_DATE('2024-03-11', 'YYYY-MM-DD'), 11);
INSERT INTO FIDE_FACTURAS_TB (V_FECHA_EMISION, FIDE_FACTURAS_ID_VENTA_IDX) VALUES
(TO_DATE('2024-03-12', 'YYYY-MM-DD'), 12);
INSERT INTO FIDE_FACTURAS_TB (V_FECHA_EMISION, FIDE_FACTURAS_ID_VENTA_IDX) VALUES
(TO_DATE('2024-03-13', 'YYYY-MM-DD'), 13);
INSERT INTO FIDE_FACTURAS_TB (V_FECHA_EMISION, FIDE_FACTURAS_ID_VENTA_IDX) VALUES
(TO_DATE('2024-03-14', 'YYYY-MM-DD'), 14);
INSERT INTO FIDE_FACTURAS_TB (V_FECHA_EMISION, FIDE_FACTURAS_ID_VENTA_IDX) VALUES
(TO_DATE('2024-03-15', 'YYYY-MM-DD'), 15);

/
-- FIDE_METODOS_PAGO_TB
INSERT INTO FIDE_METODOS_PAGO_TB (V_METODO) VALUES
('Tarjeta de Crédito');
INSERT INTO FIDE_METODOS_PAGO_TB (V_METODO) VALUES
('Tarjeta de Débito');
INSERT INTO FIDE_METODOS_PAGO_TB (V_METODO) VALUES
('Efectivo');
INSERT INTO FIDE_METODOS_PAGO_TB (V_METODO) VALUES
('Transferencia Bancaria');
INSERT INTO FIDE_METODOS_PAGO_TB (V_METODO) VALUES
('PayPal');
INSERT INTO FIDE_METODOS_PAGO_TB (V_METODO) VALUES
('Sinpe Móvil');

/
-- FIDE_DETALLE_FACTURA_TB
INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, V_CANTIDAD) VALUES
(1, 2);
INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, V_CANTIDAD) VALUES
(2, 1);
INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, V_CANTIDAD) VALUES
(3, 3);
INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, V_CANTIDAD) VALUES
(4, 5);
INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, V_CANTIDAD) VALUES
(5, 2);
INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, V_CANTIDAD) VALUES
(6, 4);
INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, V_CANTIDAD) VALUES
(7, 6);
INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, V_CANTIDAD) VALUES
(8, 1);
INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, V_CANTIDAD) VALUES
(9, 2);
INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, V_CANTIDAD) VALUES
(10, 3);
INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, V_CANTIDAD) VALUES
(11, 1);
INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, V_CANTIDAD) VALUES
(12, 5);
INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, V_CANTIDAD) VALUES
(13, 4);
INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, V_CANTIDAD) VALUES
(14, 2);
INSERT INTO FIDE_DETALLE_FACTURA_TB (FIDE_DETALLE_FACTURA_ID_FACTURA_IDX, V_CANTIDAD) VALUES
(15, 3);

/

-- FIDE_REPORTES_TB
INSERT INTO FIDE_REPORTES_TB (V_PERFUME_ESTRELLA, V_FECHA_GENERADO) VALUES
('Ventas Mensuales', TO_DATE('2024-03-01', 'YYYY-MM-DD'));
INSERT INTO FIDE_REPORTES_TB (V_PERFUME_ESTRELLA, V_FECHA_GENERADO) VALUES
('Clientes Frecuentes', TO_DATE('2024-03-02', 'YYYY-MM-DD'));
INSERT INTO FIDE_REPORTES_TB (V_PERFUME_ESTRELLA, V_FECHA_GENERADO) VALUES
('Productos Más Vendidos', TO_DATE('2024-03-03', 'YYYY-MM-DD'));
INSERT INTO FIDE_REPORTES_TB (V_PERFUME_ESTRELLA, V_FECHA_GENERADO) VALUES
('Ingresos Totales', TO_DATE('2024-03-04', 'YYYY-MM-DD'));
INSERT INTO FIDE_REPORTES_TB (V_PERFUME_ESTRELLA, V_FECHA_GENERADO) VALUES
('Proveedores Activos', TO_DATE('2024-03-05', 'YYYY-MM-DD'));
INSERT INTO FIDE_REPORTES_TB (V_PERFUME_ESTRELLA, V_FECHA_GENERADO) VALUES
('Pedidos Pendientes', TO_DATE('2024-03-06', 'YYYY-MM-DD'));
INSERT INTO FIDE_REPORTES_TB (V_PERFUME_ESTRELLA, V_FECHA_GENERADO) VALUES
('Inventario Bajo', TO_DATE('2024-03-07', 'YYYY-MM-DD'));
INSERT INTO FIDE_REPORTES_TB (V_PERFUME_ESTRELLA, V_FECHA_GENERADO) VALUES
('Facturación por Mes', TO_DATE('2024-03-08', 'YYYY-MM-DD'));
INSERT INTO FIDE_REPORTES_TB (V_PERFUME_ESTRELLA, V_FECHA_GENERADO) VALUES
('Métodos de Pago Usados', TO_DATE('2024-03-09', 'YYYY-MM-DD'));
INSERT INTO FIDE_REPORTES_TB (V_PERFUME_ESTRELLA, V_FECHA_GENERADO) VALUES
('Ganancias Netas', TO_DATE('2024-03-10', 'YYYY-MM-DD'));
INSERT INTO FIDE_REPORTES_TB (V_PERFUME_ESTRELLA, V_FECHA_GENERADO) VALUES
('Frecuencia de Compra', TO_DATE('2024-03-11', 'YYYY-MM-DD'));
INSERT INTO FIDE_REPORTES_TB (V_PERFUME_ESTRELLA, V_FECHA_GENERADO) VALUES
('Valor Promedio de Orden', TO_DATE('2024-03-12', 'YYYY-MM-DD'));
INSERT INTO FIDE_REPORTES_TB (V_PERFUME_ESTRELLA, V_FECHA_GENERADO) VALUES
('Eficiencia Logística', TO_DATE('2024-03-13', 'YYYY-MM-DD'));
INSERT INTO FIDE_REPORTES_TB (V_PERFUME_ESTRELLA, V_FECHA_GENERADO) VALUES
('Tendencias de Compra', TO_DATE('2024-03-14', 'YYYY-MM-DD'));
INSERT INTO FIDE_REPORTES_TB (V_PERFUME_ESTRELLA, V_FECHA_GENERADO) VALUES
('Satisfacción del Cliente', TO_DATE('2024-03-15', 'YYYY-MM-DD'));

/
-- FIDE_PROVEEDORES_TB
INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_TELEFONO, V_EMAIL) VALUES
('Distribuidora Tica', '50622003344', 'contacto@distribuidoratica.com');
INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_TELEFONO, V_EMAIL) VALUES
('Aromas Naturales CR', '50687774433', 'info@aromascr.com');
INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_TELEFONO, V_EMAIL) VALUES
('Perfumes del Valle', '50689991122', 'ventas@perfumesvalle.com');
INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_TELEFONO, V_EMAIL) VALUES
('Importadora Esencias', '50686665544', 'contacto@esenciascr.com');
INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_TELEFONO, V_EMAIL) VALUES
('Aromaterapia Costa Rica', '50682221177', 'info@aromaterapiacr.com');
INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_TELEFONO, V_EMAIL) VALUES
('Perfumería Exclusiva', '50683336688', 'ventas@perfumeriaexclusiva.com');
INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_TELEFONO, V_EMAIL) VALUES
('Olores Premium', '50689992233', 'contacto@olorespremium.com');
INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_TELEFONO, V_EMAIL) VALUES
('Fragancias y Estilo', '50681118899', 'info@fraganciasestilo.com');
INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_TELEFONO, V_EMAIL) VALUES
('Esencias y Sensaciones', '50685554422', 'contacto@esenciassensaciones.com');
INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_TELEFONO, V_EMAIL) VALUES
('Tropical Scents', '50688881100', 'info@tropicalscents.com');
INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_TELEFONO, V_EMAIL) VALUES
('Distribuciones Caribeñas', '50687774422', 'ventas@distribucionescaribe.com');
INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_TELEFONO, V_EMAIL) VALUES
('Delicadeza Aromática', '50682229988', 'info@delicadezaromatica.com');
INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_TELEFONO, V_EMAIL) VALUES
('Aromas de Montaña', '50683335555', 'ventas@aromasmontana.com');
INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_TELEFONO, V_EMAIL) VALUES
('Perfumes de Lujo', '50686667788', 'info@perfumeslujo.com');
INSERT INTO FIDE_PROVEEDORES_TB (V_NOMBRE, V_TELEFONO, V_EMAIL) VALUES
('Fragrancias Costarricenses', '50689990011', 'contacto@fragranciascr.com');


/
-- FIDE_PERFUMES_TB
INSERT INTO FIDE_PERFUMES_TB (V_NOMBRE, FIDE_PERFUMES_ID_MARCA_IDX) VALUES
('Aroma Tico', 1);
INSERT INTO FIDE_PERFUMES_TB (V_NOMBRE, FIDE_PERFUMES_ID_MARCA_IDX) VALUES
('Brisa Caribeña', 2);
INSERT INTO FIDE_PERFUMES_TB (V_NOMBRE, FIDE_PERFUMES_ID_MARCA_IDX) VALUES
('Esencia Tropical', 3);
INSERT INTO FIDE_PERFUMES_TB (V_NOMBRE, FIDE_PERFUMES_ID_MARCA_IDX) VALUES
('Dulce Vida', 4);
INSERT INTO FIDE_PERFUMES_TB (V_NOMBRE, FIDE_PERFUMES_ID_MARCA_IDX) VALUES
('Noche Estrellada', 5);
INSERT INTO FIDE_PERFUMES_TB (V_NOMBRE, FIDE_PERFUMES_ID_MARCA_IDX) VALUES
('Paz y Amor', 6);
INSERT INTO FIDE_PERFUMES_TB (V_NOMBRE, FIDE_PERFUMES_ID_MARCA_IDX) VALUES
('Cielo Azul', 7);
INSERT INTO FIDE_PERFUMES_TB (V_NOMBRE, FIDE_PERFUMES_ID_MARCA_IDX) VALUES
('Ocaso Dorado', 8);
INSERT INTO FIDE_PERFUMES_TB (V_NOMBRE, FIDE_PERFUMES_ID_MARCA_IDX) VALUES
('Viento del Norte', 9);
INSERT INTO FIDE_PERFUMES_TB (V_NOMBRE, FIDE_PERFUMES_ID_MARCA_IDX) VALUES
('Luz del Alba', 10);
INSERT INTO FIDE_PERFUMES_TB (V_NOMBRE, FIDE_PERFUMES_ID_MARCA_IDX) VALUES
('Selva Pura', 11);
INSERT INTO FIDE_PERFUMES_TB (V_NOMBRE, FIDE_PERFUMES_ID_MARCA_IDX) VALUES
('Frutos Silvestres', 12);
INSERT INTO FIDE_PERFUMES_TB (V_NOMBRE, FIDE_PERFUMES_ID_MARCA_IDX) VALUES
('Mar Adentro', 13);
INSERT INTO FIDE_PERFUMES_TB (V_NOMBRE, FIDE_PERFUMES_ID_MARCA_IDX) VALUES
('Pasión Costera', 14);
INSERT INTO FIDE_PERFUMES_TB (V_NOMBRE, FIDE_PERFUMES_ID_MARCA_IDX) VALUES
('Sombra y Brisa', 15);
DESC FIDE_PERFUMES_TB;
SELECT FIDE_PERFUMES_ID_PERFUME_PK FROM FIDE_PERFUMES_TB;
/

UPDATE FIDE_PERFUMES_TB 
SET V_PRECIO = 
  CASE 
    WHEN V_NOMBRE = 'Aroma Tico' THEN 27000
    WHEN V_NOMBRE = 'Brisa Caribeña' THEN 33000
    WHEN V_NOMBRE = 'Esencia Tropical' THEN 39000
    WHEN V_NOMBRE = 'Dulce Vida' THEN 45000
    WHEN V_NOMBRE = 'Noche Estrellada' THEN 51000
    WHEN V_NOMBRE = 'Paz y Amor' THEN 57000
    WHEN V_NOMBRE = 'Cielo Azul' THEN 63000
    WHEN V_NOMBRE = 'Ocaso Dorado' THEN 69000
    WHEN V_NOMBRE = 'Viento del Norte' THEN 75000
    WHEN V_NOMBRE = 'Luz del Alba' THEN 81000
    WHEN V_NOMBRE = 'Selva Pura' THEN 87000
    WHEN V_NOMBRE = 'Frutos Silvestres' THEN 93000
    WHEN V_NOMBRE = 'Mar Adentro' THEN 99000
    WHEN V_NOMBRE = 'Pasión Costera' THEN 105000
    WHEN V_NOMBRE = 'Sombra y Brisa' THEN 111000
    ELSE V_PRECIO 
  END;

COMMIT;

SELECT FIDE_PERFUMES_ID_PERFUME_PK, V_NOMBRE, V_PRECIO FROM FIDE_PERFUMES_TB;


/
-- FIDE_MARCAS_TB
INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA) VALUES
('Tico Fragrances');
INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA) VALUES
('Caribe Scents');
INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA) VALUES
('Pura Vida Perfumes');
INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA) VALUES
('Aromas del Valle');
INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA) VALUES
('Esencias Tropicales');
INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA) VALUES
('Costa Rica Perfumes');
INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA) VALUES
('Monteverde Aromas');
INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA) VALUES
('Esencias Naturales CR');
INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA) VALUES
('Puntarenas Fragancias');
INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA) VALUES
('San José Perfumes');
INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA) VALUES
('Brisa Marina Scents');
INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA) VALUES
('Selva Esencias');
INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA) VALUES
('Aromas y Vida');
INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA) VALUES
('Costa del Sol Fragrances');
INSERT INTO FIDE_MARCAS_TB (V_NOMBRE_MARCA) VALUES
('Tropical Lux Scents');
/

-- FIDE_TIPO_PERFUMES_TB
INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION) VALUES
('Floral');
INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION) VALUES
('Cítrico');
INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION) VALUES
('Amaderado');
INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION) VALUES
('Oriental');
INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION) VALUES
('Frutal');
INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION) VALUES
('Fresco');
INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION) VALUES
('Especiado');
INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION) VALUES
('Dulce');
INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION) VALUES
('Herbal');
INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION) VALUES
('Acuático');
INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION) VALUES
('Terroso');
INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION) VALUES
('Almizclado');
INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION) VALUES
('Afrutado');
INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION) VALUES
('Exótico');
INSERT INTO FIDE_TIPO_PERFUMES_TB (V_DESCRIPCION) VALUES
('Verde');

/

-- FIDE_INVENTARIO_TB
INSERT INTO FIDE_INVENTARIO_TB (FIDE_INVENTARIO_ID_PERFUME_IDX, V_STOCK_DISPONIBLE) VALUES 
(46, 50);
INSERT INTO FIDE_INVENTARIO_TB (FIDE_INVENTARIO_ID_PERFUME_IDX, V_STOCK_DISPONIBLE) VALUES 
(47, 40);
INSERT INTO FIDE_INVENTARIO_TB (FIDE_INVENTARIO_ID_PERFUME_IDX, V_STOCK_DISPONIBLE) VALUES 
(48, 60);
INSERT INTO FIDE_INVENTARIO_TB (FIDE_INVENTARIO_ID_PERFUME_IDX, V_STOCK_DISPONIBLE) VALUES 
(49, 30);
INSERT INTO FIDE_INVENTARIO_TB (FIDE_INVENTARIO_ID_PERFUME_IDX, V_STOCK_DISPONIBLE) VALUES 
(50, 55);
INSERT INTO FIDE_INVENTARIO_TB (FIDE_INVENTARIO_ID_PERFUME_IDX, V_STOCK_DISPONIBLE) VALUES 
(51, 45);
INSERT INTO FIDE_INVENTARIO_TB (FIDE_INVENTARIO_ID_PERFUME_IDX, V_STOCK_DISPONIBLE) VALUES 
(52, 70);
INSERT INTO FIDE_INVENTARIO_TB (FIDE_INVENTARIO_ID_PERFUME_IDX, V_STOCK_DISPONIBLE) VALUES 
(53, 25);


/
-- FIDE_DETALLE_VENTA_TB
INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD) VALUES
(1, 46, 2);
INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD) VALUES
(2, 47, 1);
INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD) VALUES
(3, 48, 3);
INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD) VALUES
(4, 49, 1);
INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD) VALUES
(5, 50, 2);
INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD) VALUES
(6, 51, 4);
INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD) VALUES
(7, 52, 1);
INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD) VALUES
(8, 53, 3);
INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD) VALUES
(9, 54, 2);
INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD) VALUES
(10, 55, 1);
INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD) VALUES
(11, 56, 5);
INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD) VALUES
(12, 57, 2);
INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD) VALUES
(13, 58, 3);
INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD) VALUES
(14, 59, 1);
INSERT INTO FIDE_DETALLE_VENTA_TB (FIDE_DETALLE_VENTA_ID_VENTA_IDX, FIDE_DETALLE_VENTA_ID_PERFUME_IDX, N_CANTIDAD) VALUES
(15, 60, 4);
/

------------------------------------------
--Selects para ver las diferentes Tablas--
------------------------------------------
SELECT * FROM FIDE_CLIENTES_TB;
SELECT * FROM FIDE_DIRECCIONES_TB;
SELECT * FROM FIDE_ROLES_TB;
SELECT * FROM FIDE_EMPRESA_TB;
SELECT * FROM FIDE_VENTAS_TB;
SELECT * FROM FIDE_CARRITO_TB;
SELECT * FROM FIDE_DETALLE_CARRITO_TB;
SELECT * FROM FIDE_FACTURAS_TB;
SELECT * FROM FIDE_METODOS_PAGO_TB;
SELECT * FROM FIDE_DETALLE_FACTURA_TB;
SELECT * FROM FIDE_REPORTES_TB;
SELECT * FROM FIDE_PERFUMES_TB;
SELECT * FROM FIDE_MARCAS_TB;
SELECT * FROM FIDE_TIPO_PERFUMES_TB;
SELECT * FROM FIDE_INVENTARIO_TB;
SELECT * FROM FIDE_PROVEEDORES_TB;
SELECT * FROM FIDE_DETALLE_VENTA_TB;
/

--------------------------------------------
------------------VISTAS-----------------
--------------------------------------------
-- 1. 
CREATE OR REPLACE VIEW FIDE_CLIENTES_CON_DIRECCION_Y_ROL_V AS 
SELECT 
    C.FIDE_CLIENTES_ID_CLIENTE_PK AS IDENTIFICACION, 
    C.V_NOMBRE AS NOMBRE, 
    C.V_CORREO AS CORREO, 
    D.V_PROVINCIA AS PROVINCIA, 
    D.V_CANTON AS CANTON, 
    D.V_DISTRITO AS DISTRITO, 
    R.V_NOMBRE_ROL AS ROL
FROM FIDE_CLIENTES_TB C
JOIN FIDE_DIRECCIONES_TB D 
    ON C.FIDE_CLIENTES_ID_DIRECCION_IDX = D.FIDE_DIRECCIONES_ID_DIRECCION_PK
JOIN FIDE_ROLES_TB R
    ON C.FIDE_CLIENTES_ID_ROL_IDX = R.FIDE_ROLES_ID_ROL_PK;
/

SELECT * FROM FIDE_CLIENTES_CON_DIRECCION_Y_ROL_V;

/
-- 2.
CREATE OR REPLACE VIEW FIDE_VENTAS_CLIENTES_PRODUCTOS_V AS
SELECT 
    V.FIDE_VENTAS_ID_VENTA_PK AS VENTA_ID,
    V.V_FECHA AS FECHA_VENTA,
    C.FIDE_CLIENTES_ID_CLIENTE_PK AS CLIENTE_ID,
    C.V_NOMBRE AS CLIENTE_NOMBRE,
    P.FIDE_PERFUMES_ID_PERFUME_PK AS PRODUCTO_ID,
    P.V_NOMBRE AS PRODUCTO_NOMBRE,
    P.V_PRECIO AS PRODUCTO_PRECIO,
    DV.N_CANTIDAD AS CANTIDAD_VENDIDA,
    (P.V_PRECIO * DV.N_CANTIDAD) AS TOTAL_VENTA
FROM FIDE_VENTAS_TB V
JOIN FIDE_CLIENTES_TB C ON V.FIDE_VENTAS_ID_CLIENTE_IDX = C.FIDE_CLIENTES_ID_CLIENTE_PK
JOIN FIDE_DETALLE_VENTA_TB DV ON V.FIDE_VENTAS_ID_VENTA_PK = DV.FIDE_DETALLE_VENTA_ID_VENTA_IDX
JOIN FIDE_PERFUMES_TB P ON DV.FIDE_DETALLE_VENTA_ID_PERFUME_IDX = P.FIDE_PERFUMES_ID_PERFUME_PK
ORDER BY V.V_FECHA DESC;
/
SELECT * FROM FIDE_VENTAS_CLIENTES_PRODUCTOS_V;
/

--3.
CREATE OR REPLACE VIEW FIDE_INVENTARIO_PERFUMES_V AS
SELECT 
    I.FIDE_INVENTARIO_ID_INVENTARIO_PK AS INVENTARIO_ID,
    P.FIDE_PERFUMES_ID_PERFUME_PK AS PRODUCTO_ID,
    P.V_NOMBRE AS PRODUCTO_NOMBRE,
    P.V_TAMAÑO AS TAMAÑO,
    P.V_PRECIO AS PRECIO_UNITARIO,
    I.V_STOCK_DISPONIBLE AS STOCK_DISPONIBLE
FROM FIDE_INVENTARIO_TB I
JOIN FIDE_PERFUMES_TB P ON I.FIDE_INVENTARIO_ID_PERFUME_IDX = P.FIDE_PERFUMES_ID_PERFUME_PK
ORDER BY P.V_NOMBRE;
/
SELECT * FROM FIDE_INVENTARIO_PERFUMES_V;

/
-- 4.
CREATE OR REPLACE VIEW FIDE_REPORTES_V AS
SELECT 
    R.FIDE_REPORTES_ID_REPORTE_PK AS REPORTE_ID,
    R.V_FECHA_GENERADO AS FECHA_GENERADO,
    R.V_VENTAS_TOTALES AS TOTAL_VENTAS,
    R.V_PERFUME_ESTRELLA AS PERFUME_ESTRELLA
FROM FIDE_REPORTES_TB R
ORDER BY R.V_FECHA_GENERADO DESC;
/
SELECT * FROM FIDE_REPORTES_V;

/
-- 5.
CREATE VIEW FIDE_CARRITO_COMPRAS_CLIENTE AS
SELECT 
    C.FIDE_CLIENTES_ID_CLIENTE_PK AS Cliente_ID,
    C.V_NOMBRE AS Cliente_Nombre,
    P.V_NOMBRE AS Perfume_Nombre,
    DC.V_CANTIDAD AS Cantidad,
    C.V_TELEFONO AS Cliente_Telefono
FROM 
    FIDE_CARRITO_COMPRAS_TB CC
JOIN 
    FIDE_CLIENTES_TB C ON CC.FIDE_CARRITO_COMPRAS_ID_CLIENTE_IDX = C.FIDE_CLIENTES_ID_CLIENTE_PK
JOIN 
    FIDE_DETALLE_CARRITO_TB DC ON CC.FIDE_CARRITO_COMPRAS_ID_CARRITO_PK = DC.FIDE_DETALLE_CARRITO_ID_CARRITO_IDX
JOIN 
    FIDE_PERFUMES_TB P ON DC.FIDE_DETALLE_CARRITO_ID_PERFUME_IDX = P.FIDE_PERFUMES_ID_PERFUME_PK;

/
SELECT * FROM FIDE_CARRITO_COMPRAS_CLIENTE;

/

--------------------------------------------
------------------FUNCIONES-----------------
--------------------------------------------

-- 1. Función para obtener el precio de un perfume por ID

CREATE OR REPLACE FUNCTION FIDE_PERFUMES_OBTENER_PRECIO_FN(perfume_id IN NUMBER) 
RETURN NUMBER IS
  precio NUMBER;
BEGIN
  SELECT NVL(V_PRECIO, 0)
  INTO precio
  FROM FIDE_PERFUMES_TB
  WHERE FIDE_PERFUMES_ID_PERFUME_PK = perfume_id;
  
  RETURN precio;
END;
/

SELECT FIDE_PERFUMES_OBTENER_PRECIO_FN(75) AS PRECIO_DE_PERFUME_POR_ID FROM DUAL;
SELECT * FROM FIDE_PERFUMES_TB;
/
-------------------------------------------------------

-- 2. Función para obtener el nombre de un perfume por ID
CREATE OR REPLACE FUNCTION FIDE_PERFUMES_OBTENER_NOMBRE_FN(perfume_id IN NUMBER) 
RETURN VARCHAR2 IS
  nombre_perfume VARCHAR2(100);
BEGIN
  SELECT V_NOMBRE
  INTO nombre_perfume
  FROM FIDE_PERFUMES_TB
  WHERE FIDE_PERFUMES_ID_PERFUME_PK = perfume_id;
  
  RETURN nombre_perfume;
END;
/

SELECT FIDE_PERFUMES_OBTENER_NOMBRE_FN(50) AS NOMBRE_PERFUME FROM DUAL;
SELECT * FROM FIDE_PERFUMES_TB;
/
-------------------------------------------------------

-- 3. Función para contar cuántos perfumes hay en la tabla
CREATE OR REPLACE FUNCTION FIDE_PERFUMES_CONTAR_FN 
RETURN NUMBER IS
  total_perfumes NUMBER;
BEGIN
  SELECT COUNT(*) INTO total_perfumes FROM FIDE_PERFUMES_TB;
  
  RETURN total_perfumes;
END;
/

SELECT FIDE_PERFUMES_CONTAR_FN() FROM DUAL;
SELECT * FROM FIDE_PERFUMES_TB;
/
-------------------------------------------------------

-- 4. Función para obtener el nombre de un proveedor por ID
CREATE OR REPLACE FUNCTION FIDE_PROVEEDORES_OBTENER_NOMBRE_FN(proveedor_id IN NUMBER) 
RETURN VARCHAR2 IS
  nombre_proveedor VARCHAR2(100);
BEGIN
  SELECT V_NOMBRE
  INTO nombre_proveedor
  FROM FIDE_PROVEEDORES_TB
  WHERE FIDE_PROVEEDORES_ID_PROVEEDOR_PK = proveedor_id;
  
  RETURN nombre_proveedor;
END;
/

SELECT FIDE_PROVEEDORES_OBTENER_NOMBRE_FN(2) AS NOMBRE_PROVEEDOR FROM DUAL;
SELECT * FROM FIDE_PROVEEDORES_TB;
/
-------------------------------------------------------

-- 5. Función para contar cuántos proveedores existen
CREATE OR REPLACE FUNCTION FIDE_PROVEEDORES_CONTAR_FN 
RETURN NUMBER IS
  total_proveedores NUMBER;
BEGIN
  SELECT COUNT(*) INTO total_proveedores FROM FIDE_PROVEEDORES_TB;
  
  RETURN total_proveedores;
END;
/

SELECT FIDE_PROVEEDORES_CONTAR_FN() AS PROVEEDORES_EXISTENTES FROM DUAL;
SELECT * FROM FIDE_PROVEEDORES_TB;
/
-------------------------------------------------------

-- 6. Función para obtener el perfume más caro
CREATE OR REPLACE FUNCTION FIDE_PERFUMES_MAS_CARO_FN 
RETURN VARCHAR2 IS
  nombre_perfume VARCHAR2(100);
BEGIN
  SELECT V_NOMBRE 
  INTO nombre_perfume
  FROM FIDE_PERFUMES_TB 
  WHERE V_PRECIO = (SELECT MAX(V_PRECIO) FROM FIDE_PERFUMES_TB)
  FETCH FIRST 1 ROW ONLY; 
  
  RETURN nombre_perfume;
END;
/

SELECT FIDE_PERFUMES_MAS_CARO_FN() AS PERFUME_MAS_CARO FROM DUAL;
SELECT * FROM FIDE_PERFUMES_TB;
/
-------------------------------------------------------

-- 7. Función para obtener el perfume más barato
CREATE OR REPLACE FUNCTION FIDE_PERFUMES_MAS_BARATO_FN 
RETURN VARCHAR2 IS
  nombre_perfume VARCHAR2(100);
BEGIN
  SELECT V_NOMBRE 
  INTO nombre_perfume
  FROM FIDE_PERFUMES_TB 
  WHERE V_PRECIO = (SELECT MIN(V_PRECIO) FROM FIDE_PERFUMES_TB)
  FETCH FIRST 1 ROW ONLY;
  
  RETURN nombre_perfume;
END;
/

SELECT FIDE_PERFUMES_MAS_BARATO_FN() AS PERFUME_MAS_BARATO FROM DUAL;
SELECT * FROM FIDE_PERFUMES_TB;
/
-------------------------------------------------------

-- 8. Función para obtener el email de un proveedor por ID
CREATE OR REPLACE FUNCTION FIDE_PROVEEDORES_OBTENER_EMAIL_FN(proveedor_id IN NUMBER) 
RETURN VARCHAR2 IS
  email_proveedor VARCHAR2(100);
BEGIN
  SELECT V_EMAIL
  INTO email_proveedor
  FROM FIDE_PROVEEDORES_TB
  WHERE FIDE_PROVEEDORES_ID_PROVEEDOR_PK = proveedor_id;
  
  RETURN email_proveedor;
END;
/

SELECT FIDE_PROVEEDORES_OBTENER_EMAIL_FN(1) AS EMAIL_DE_PROVEEDOR FROM DUAL;
SELECT * FROM FIDE_PROVEEDORES_TB;

/


-------------------------------------------------------
---------------------- CURSORES------------------------
-------------------------------------------------------

-- 1. Perfumes con Precio Mayor a 30000
SET SERVEROUTPUT ON;
DECLARE
  CURSOR FIDE_PERFUMES_CAROS_CUR IS
    SELECT V_NOMBRE, V_PRECIO FROM FIDE_PERFUMES_TB WHERE V_PRECIO > 30000;
  V_NOMBRE FIDE_PERFUMES_TB.V_NOMBRE%TYPE;
  V_PRECIO FIDE_PERFUMES_TB.V_PRECIO%TYPE;
BEGIN
  OPEN FIDE_PERFUMES_CAROS_CUR;
  LOOP
    FETCH FIDE_PERFUMES_CAROS_CUR INTO V_NOMBRE, V_PRECIO;
    EXIT WHEN FIDE_PERFUMES_CAROS_CUR%NOTFOUND;
    DBMS_OUTPUT.PUT_LINE('PERFUME MAYOR DE 30000: ' || V_NOMBRE || ' --- PRECIO: ' || V_PRECIO);
END LOOP;
  CLOSE FIDE_PERFUMES_CAROS_CUR;
END;

/
-- 2.Listar Todos los Perfumes
SET SERVEROUTPUT ON;
DECLARE
  CURSOR FIDE_LISTAR_PERFUMES_CUR IS
    SELECT * FROM FIDE_PERFUMES_TB;
  V_PERFUME FIDE_PERFUMES_TB%ROWTYPE;
BEGIN
  FOR V_PERFUME IN FIDE_LISTAR_PERFUMES_CUR LOOP
    DBMS_OUTPUT.PUT_LINE('PERFUME: ' || V_PERFUME.V_NOMBRE || ' --- PRECIO: ' || V_PERFUME.V_PRECIO);
  END LOOP;
END;
/

--3. Lista de Proveedores
SET SERVEROUTPUT ON;
DECLARE
  CURSOR C_PROVEEDORES IS
    SELECT V_NOMBRE, V_TELEFONO FROM FIDE_PROVEEDORES_TB;
  
  V_NOMBRE FIDE_PROVEEDORES_TB.V_NOMBRE%TYPE;
  V_TELEFONO FIDE_PROVEEDORES_TB.V_TELEFONO%TYPE;
BEGIN
  OPEN C_PROVEEDORES;
  LOOP
    FETCH C_PROVEEDORES INTO V_NOMBRE, V_TELEFONO;
    EXIT WHEN C_PROVEEDORES%NOTFOUND;
    DBMS_OUTPUT.PUT_LINE('PROVEEDOR: ' || V_NOMBRE || ' - TELÉFONO: ' || V_TELEFONO);
  END LOOP;
  CLOSE C_PROVEEDORES;
END;
/

--4.Nombres ordenados por nombre ascendente
SET SERVEROUTPUT ON;
DECLARE
  CURSOR C_PERFUMES_ORDENADOS IS
    SELECT V_NOMBRE FROM FIDE_PERFUMES_TB ORDER BY V_NOMBRE ASC;
BEGIN
  FOR V_PERFUME IN C_PERFUMES_ORDENADOS LOOP
    DBMS_OUTPUT.PUT_LINE('PERFUME: ' || V_PERFUME.V_NOMBRE);
  END LOOP;
END;
/

-- 5. Cursor Formal: Perfume Más Caro
SET SERVEROUTPUT ON;
DECLARE
  CURSOR FIDE_PERFUME_MAS_CARO_CUR IS
    SELECT V_NOMBRE FROM FIDE_PERFUMES_TB WHERE V_PRECIO = (SELECT MAX(V_PRECIO) FROM FIDE_PERFUMES_TB);
  V_NOMBRE FIDE_PERFUMES_TB.V_NOMBRE%TYPE;
BEGIN
  OPEN FIDE_PERFUME_MAS_CARO_CUR;
  LOOP
    FETCH FIDE_PERFUME_MAS_CARO_CUR INTO V_NOMBRE;
    EXIT WHEN FIDE_PERFUME_MAS_CARO_CUR%NOTFOUND;
    DBMS_OUTPUT.PUT_LINE('PERFUME MÁS CARO: ' || V_NOMBRE);
  END LOOP;
  CLOSE FIDE_PERFUME_MAS_CARO_CUR;
END;
/

-- 6. Filtrar factura por ID
SET SERVEROUTPUT ON;
DECLARE
  CURSOR FIDE_FILTRAR_FACTURA_ID_CUR IS
    SELECT * FROM FIDE_FACTURAS_TB WHERE FIDE_FACTURAS_ID_FACTURA_PK = 1;
  V_FACTURA FIDE_FACTURAS_TB%ROWTYPE;
BEGIN
  OPEN FIDE_FILTRAR_FACTURA_ID_CUR;
  LOOP
    FETCH FIDE_FILTRAR_FACTURA_ID_CUR INTO V_FACTURA;
    EXIT WHEN FIDE_FILTRAR_FACTURA_ID_CUR%NOTFOUND;
    DBMS_OUTPUT.PUT_LINE('Factura ID: ' || V_FACTURA.FIDE_FACTURAS_ID_FACTURA_PK || 
                         ' | Fecha de Emisión: ' || TO_CHAR(V_FACTURA.V_FECHA_EMISION, 'DD-MM-YYYY') || 
                         ' | Total: ' || V_FACTURA.V_TOTAL);
  END LOOP;
  CLOSE FIDE_FILTRAR_FACTURA_ID_CUR;
END;
/

-- 7. Filtrar Cliente por Direccion
SET SERVEROUTPUT ON;
DECLARE
  CURSOR FIDE_FILTRAR_DIRECCION_CLIENTE_CUR IS
    SELECT * FROM FIDE_CLIENTES_TB WHERE FIDE_CLIENTES_ID_DIRECCION_IDX = 2;
  V_CLIENTE FIDE_CLIENTES_TB%ROWTYPE;
BEGIN
  OPEN FIDE_FILTRAR_DIRECCION_CLIENTE_CUR;
  LOOP
    FETCH FIDE_FILTRAR_DIRECCION_CLIENTE_CUR INTO V_CLIENTE;
    EXIT WHEN FIDE_FILTRAR_DIRECCION_CLIENTE_CUR%NOTFOUND;
    DBMS_OUTPUT.PUT_LINE('Cliente: ' || V_CLIENTE.V_NOMBRE || ', Teléfono: ' || V_CLIENTE.V_TELEFONO || ', Correo: ' || V_CLIENTE.V_CORREO);
  END LOOP;
  CLOSE FIDE_FILTRAR_DIRECCION_CLIENTE_CUR;
END;

SELECT * FROM FIDE_CLIENTES_TB;
/

-- 8. Generar Reportes
SET SERVEROUTPUT ON;
DECLARE
  CURSOR FIDE_GENERAR_TIPO_REPORTE_CUR IS
    SELECT * FROM FIDE_REPORTES_TB WHERE V_PERFUME_ESTRELLA = 'Productos Más Vendidos';
  V_REPORTE FIDE_REPORTES_TB%ROWTYPE;
BEGIN
  OPEN FIDE_GENERAR_TIPO_REPORTE_CUR;
  LOOP
    FETCH FIDE_GENERAR_TIPO_REPORTE_CUR INTO V_REPORTE;
    EXIT WHEN FIDE_GENERAR_TIPO_REPORTE_CUR%NOTFOUND;
    DBMS_OUTPUT.PUT_LINE('Reporte ID: ' || V_REPORTE.FIDE_REPORTES_ID_REPORTE_PK || 
                         ' | Fecha: ' || TO_CHAR(V_REPORTE.V_FECHA_GENERADO, 'DD-MM-YYYY') || 
                         ' | Tipo de Reporte: ' || V_REPORTE.V_PERFUME_ESTRELLA);
  END LOOP;
  CLOSE FIDE_GENERAR_TIPO_REPORTE_CUR;
END;

/
